## 第七课&C2T2

[课程导图-大图链接]()
![]( )

### 加密

+ 加密
+ md5 + base64

          # 在ipython中运行，一行一行执行

          from hashlib import md5

           a= "人生苦短，我用py"
           md5(a).hexdigest()
           
           from base64 import urlsafe_b64encode,urlsafe_b64decode
           
           
           urlsafe_b64encode(a)
           _safe = urlsafe_b64encode(a)
           print urlsafe_b64decode(_safe)    #win CMD 下输出会是乱码：浜虹敓鑻︾煭锛屾垜鐢╬y
           
           #没关系，解码。。
           
           print urlsafe_b64decode(_safe).decode('utf-8') #人生苦短，我用py
           
base64 就是可逆操作的编码，base64就是可逆操作的编码

大妈的例子核心代码：


         #加密
         def gen_sign(msg):
           _base = "{}&{}".format(XCFG.APPKEY,msg.encode('utf8'))
           #print _base
           _safe = urlsafe_b64encode(_base)
           #print _safe
           _tag = "{}{}".format(_safe,XCFG.SECRET)
           #print _tag
           _sign = md5(_tag).hexdigest()
           return _safe,_sign
           
           
         def s_encr(msg):
           #print XCFG.ROOT
           _ts = "%.3f" % (time())
           print _ts
           _safe,_sign = gen_sign(msg)
           #print _sign
           _uri = urlsafe_b64encode("q={}&ts={}&sign={}".format(_safe,_ts,_sign))
           #print _uri
           return _uri
         def s_decr(qcode):
          #print qcode
          _uri = urlsafe_b64decode(qcode)
          #print _uri
          q_dict = {}
          for q in _uri.split('&'):
            item = q.split('=')
            q_dict[item[0]] = item[1]
         _msg = urlsafe_b64decode(q_dict['q']).split('&')[1]
         _safe,_sign = gen_sign(_msg.decode('utf8'))
          
          
          #客户端解密：
          _uri = s_encr(u'是也乎') 
          print s_decr(_uri)
          r = requests.get("%s/encr/%s"%(XCFG.ROOT,_uri)) 
          pp.pprint(r.json())
          

+ 解密
 

## 感想

+ 加密
 + 单一的加密算法会被撞库
 + 通过各种算法嵌套实现复杂加密
 + 服务器端增加sleep函数避免恶意攻击
+ 心流
 + 记录开发过程
 + 寻找心流刺激因素
 + 随时切换进入心流状态
 + 推荐阅读《米哈里希斯赞特米哈伊 - 创造力：心流与创新心理学》



+ 美化
 + 以前以背景图片实现的效果都是耍流氓